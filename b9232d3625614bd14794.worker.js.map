{"version":3,"sources":["../webpack/bootstrap","components/WorldWindMap/utils/xml2js/common.js","../node_modules/easysax/easysax.js","../node_modules/process/browser.js","components/WorldWindMap/utils/xml2js/xml2js.js","components/WorldWindMap/utils/xml2js/index.js","components/WorldWindMap/utils/KML.worker.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","sanitize","text","replace","copyOptions","options","copy","ensureFlagExists","item","ensureSpacesExists","spaces","ensureKeyExists","compact","getCommandLineHelp","command","requiredArgs","optionalArgs","output","reduce","res","arg","forEach","argument","Array","length","join","desc","mapCommandLineArgs","a","process","argv","substr","option","alias","slice","type","Number","this","onComment","onQuestion","onAttention","onUnknownNS","default_xmlns","useNS","onTextNode","NULL_FUNC","onStartNode","onEndNode","onCDATA","onError","is_onComment","is_onQuestion","is_onAttention","is_onUnknownNS","hasSurmiseNS","isNamespace","returnError","parseStop","nsmatrix","xmlns","xml","on","cb","root","ok","v","x","parse","_xml","attr_res","stop","stringNodePosStart","stringNodePosEnd","attr_string","attr_posstart","getAttrs","xmlnsAlias","nsAttrName","hasNewMatrix","newalias","w","j","attrList","charCodeAt","substring","indexOf","unEntities","cloneMatrixNS","push","getStringNode","y","q","_nsmatrix","elem","stacknsmatrix","nodestack","tagstart","tagend","stopIndex","pop","stringFromCharCode","String","fromCharCode","xharsQuot","constructor","propertyIsEnumerable","toLocaleString","isPrototypeOf","toString","valueOf","quot","QUOT","amp","AMP","nbsp","apos","lt","LT","gt","GT","laquo","raquo","reg","deg","plusmn","sup2","sup3","micro","para","replaceEntities","z","parseInt","nn","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","arguments","apply","title","browser","env","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","currentElement","addField","elementsKey","element","typeKey","addParent","parentKey","onStartElement","attributesFn","attributes","trim","ignoreAttributes","keys","attributesKey","nameKey","alwaysChildren","onText","ignoreText","nativeType","nValue","isNaN","bValue","toLowerCase","common","comment","ignoreComment","onEndElement","parentElement","onCdata","cdata","ignoreCdata","error","note","xml2js","userOptions","parser","EasySax","result","validateOptions","temp","self","addEventListener","url","satName","filterDate","data","async","err","body","response","fetch","status","getFile","shapes","kmlStringContent","jsKml","geoKml","isSentinel2","includes","nowDate","Date","filter","shape","isInTheFuture","timeSpan","end","extendedData","Mode","Timeliness","console","downloadAndParseKmls","then","postMessage","workerId","kmlObj","doc","kml","Document","rootFolder","Folder","style","Style","styleMap","StyleMap","rawPlacemarks","getPlacemarks","styles","parseStyles","parseStyleMap","parsePlacemarks","stylesObj","map","styleObj","id","formatId","_attributes","color","LineStyle","_text","styleMaps","styleIds","styleMapId","normalPair","Pair","pair","styleUrl","placemarks","placemark","parseStyleUrl","parseExtendedData","ExtendedData","parseTimeSpan","TimeSpan","parseName","coordinates","parseCoordinates","matchStyle","LinearRing","Polygon","outerBoundaryIs","split","pos","positionsPair","latitude","longitude","extDataObj","datas","Data","timeSpanObj","begin","nameObj","styleUrlObj","folder","isArray","subFolder","Placemark","addPlacemarks","placemarkFolder"],"mappings":"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","file":"b9232d3625614bd14794.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/**\n * Created by Florin on 3/10/2017.\n */\n\nexport default {\n    sanitize: function (text) {\n        return text.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#39;\");\n    },\n    copyOptions: function (options) {\n        var key, copy = {};\n        for (key in options) {\n            if (options.hasOwnProperty(key)) {\n                copy[key] = options[key];\n            }\n        }\n        return copy;\n    },\n    ensureFlagExists: function (item, options) {\n        if (!(item in options) || typeof options[item] !== 'boolean') {\n            options[item] = false;\n        }\n    },\n    ensureSpacesExists: function (options) {\n        if (!('spaces' in options) || (typeof options.spaces !== 'number' && typeof options.spaces !== 'string')) {\n            options.spaces = 0;\n        }\n    },\n    ensureKeyExists: function (key, options) {\n        if (!(key + 'Key' in options) || typeof options[key + 'Key'] !== 'string') {\n            options[key + 'Key'] = options.compact ? '_' + key : key;\n        }\n    },\n    getCommandLineHelp: function (command, requiredArgs, optionalArgs) {\n        var reqArgs = requiredArgs.reduce(function (res, arg) {return res + ' <' + arg.arg + '>';}, '');\n        var output = 'Usage: ' + command + reqArgs + ' [options]' + '\\n';\n        requiredArgs.forEach(function (argument) {\n            output += '  <' + argument.arg + '>' + Array(20 - argument.arg.length).join(' ') + argument.desc + '\\n';\n        });\n        output += '\\nOptions:' + '\\n';\n        optionalArgs.forEach(function (argument) {\n            output += '  --' + argument.arg + Array(20 - argument.arg.length).join(' ') + argument.desc + '\\n';\n        });\n        return output;\n    },\n    mapCommandLineArgs: function (requiredArgs, optionalArgs) {\n        var options = {}, r, o, a = 2;\n        for (r = 0; r < requiredArgs.length; r += 1) {\n            if (a < process.argv.length && process.argv[a].substr(0, 1) !== '-' && process.argv[a] !== 'JASMINE_CONFIG_PATH=./jasmine.json') {\n                options[requiredArgs[r].option] = process.argv[a++];\n            } else {\n                break;\n            }\n        }\n        for (; a < process.argv.length; a += 1) {\n            for (o = 0; o < optionalArgs.length; o += 1) {\n                if (optionalArgs[o].alias === process.argv[a].slice(1) || optionalArgs[o].arg === process.argv[a].slice(2)) {\n                    break;\n                }\n            }\n            if (o < optionalArgs.length) {\n                switch (optionalArgs[o].type) {\n                case 'file': case 'string': case 'number':\n                    if (a + 1 < process.argv.length) {\n                        a += 1;\n                        options[optionalArgs[o].option] = (optionalArgs[o].type === 'number' ? Number(process.argv[a]) : process.argv[a]);\n                    }\n                    break;\n                case 'flag':\n                    options[optionalArgs[o].option] = true; break;\n                }\n            }\n        }\n        return options;\n    }\n};","'use strict';\n\n/*\nnew function() {\n    var parser = new EasySAXParser();\n\n    parser.ns('rss', { // or false\n        'http://search.yahoo.com/mrss/': 'media',\n        'http://www.w3.org/1999/xhtml': 'xhtml',\n        'http://www.w3.org/2005/Atom': 'atom',\n        'http://purl.org/rss/1.0/': 'rss',\n    });\n\n    parser.on('error', function(msg) {\n        //console.log(msg)\n    });\n\n    parser.on('startNode', function(elem, attr, uq, tagend, getStrNode) {\n        attr();\n        return;\n        if (tagend) {\n            console.log('   '+str)\n        } else {\n            console.log('+  '+str)\n        };\n    });\n\n    parser.on('endNode', function(elem, uq, tagstart, str) {\n        return;\n        if (!tagstart) console.log('-  ' + str)\n    });\n\n    parser.on('textNode', function(s, uq) {\n        uq(s);\n        return\n        console.log('   '+s)\n    });\n\n    parser.on('cdata', function(data) {\n    });\n\n\n    parser.on('comment', function(text) {\n        //console.log('--'+text+'--')\n    });\n\n    //parser.on('question', function() {}); // <? ... ?>\n    //parser.on('attention', function() {}); // <!XXXXX zzzz=\"eeee\">\n\n    console.time('easysax');\n    for(var z=1000;z--;) {\n        parser.parse(xml)\n    };\n    console.timeEnd('easysax');\n};\n\n*/\n\n// << ------------------------------------------------------------------------ >> //\n\nmodule.exports = EasySAXParser;\n\nvar stringFromCharCode = String.fromCharCode;\nvar xharsQuot = {constructor: false\n    , propertyIsEnumerable: false\n    , toLocaleString: false\n    , hasOwnProperty: false\n    , isPrototypeOf: false\n    , toString: false\n    , valueOf: false\n\n    , quot: '\"'\n    , QUOT: '\"'\n    , amp: '&'\n    , AMP: '&'\n    , nbsp: '\\u00A0'\n    , apos: '\\''\n    , lt: '<'\n    , LT: '<'\n    , gt: '>'\n    , GT: '>'\n    , copy: '\\u00A9'\n    , laquo: '\\u00AB'\n    , raquo: '\\u00BB'\n    , reg: '\\u00AE'\n    , deg: '\\u00B0'\n    , plusmn: '\\u00B1'\n    , sup2: '\\u00B2'\n    , sup3: '\\u00B3'\n    , micro: '\\u00B5'\n    , para: '\\u00B6'\n};\n\nfunction NULL_FUNC() {};\n\nfunction replaceEntities(s, d, x, z) {\n    if (z) {\n        return xharsQuot[z] || '\\x01';\n    };\n\n    if (d) {\n        return stringFromCharCode(d);\n    };\n\n    return stringFromCharCode(parseInt(x, 16));\n};\n\nfunction unEntities(s) {\n    var s = ('' + s);\n\n    if (s.length > 3 && s.indexOf('&') !== -1) {\n        if (s.indexOf('&quot;') !== -1) s = s.replace(/&quot;/g, '\"');\n        if (s.indexOf('&gt;') !== -1) s = s.replace(/&gt;/g, '>');\n        if (s.indexOf('&lt;') !== -1) s = s.replace(/&lt;/g, '<');\n\n        if (s.indexOf('&') !== -1) {\n            s = s.replace(/&#(\\d+);|&#x([0123456789abcdef]+);|&(\\w+);/ig, replaceEntities);\n        };\n    };\n\n    return s;\n};\n\nfunction cloneMatrixNS(nsmatrix) {\n    var nn = {};\n    for (var n in nsmatrix) {\n        nn[n] = nsmatrix[n];\n    };\n    return nn;\n};\n\n\nfunction EasySAXParser() {\n    if (!this) {\n        return null;\n    };\n\n    var onTextNode = NULL_FUNC, onStartNode = NULL_FUNC, onEndNode = NULL_FUNC, onCDATA = NULL_FUNC, onError = NULL_FUNC, onComment, onQuestion, onAttention, onUnknownNS;\n    var is_onComment = false, is_onQuestion = false, is_onAttention = false, is_onUnknownNS = false;\n\n    var default_xmlns;\n    var hasSurmiseNS = false;\n    var isNamespace = false;\n    var returnError = null;\n    var parseStop = false; // прервать парсер\n    var nsmatrix = {xmlns: xmlns};\n    var useNS;\n    var xmlns;\n    var xml = ''; // string\n\n    this.on = function(name, cb) {\n        if (typeof cb !== 'function') {\n            if (cb !== null) return;\n        };\n\n        switch(name) {\n            case 'startNode': onStartNode = cb || NULL_FUNC; break;\n            case 'textNode': onTextNode = cb || NULL_FUNC; break;\n            case 'endNode': onEndNode = cb || NULL_FUNC; break;\n            case 'error': onError = cb || NULL_FUNC; break;\n            case 'cdata': onCDATA = cb || NULL_FUNC; break;\n\n            case 'unknownNS': onUnknownNS = cb; is_onUnknownNS = !!cb; break;\n            case 'attention': onAttention = cb; is_onAttention = !!cb; break; // <!XXXXX zzzz=\"eeee\">\n            case 'question': onQuestion = cb; is_onQuestion = !!cb; break; // <? ....  ?>\n            case 'comment': onComment = cb; is_onComment = !!cb; break;\n        };\n    };\n\n    this.ns = function(root, ns) {\n        if (!root || typeof root !== 'string' || !ns) {\n            return this;\n        };\n\n        var x = {}, ok, v, i;\n\n        for(i in ns) {\n            v = ns[i];\n            if (typeof v === 'string') {\n                if (root === v) ok = true;\n                x[i] = v;\n            };\n        };\n\n        if (ok) {\n            default_xmlns = root;\n            isNamespace = true;\n            useNS = x;\n        };\n\n        return this;\n    };\n\n    this.parse = function(_xml) {\n        if (typeof _xml !== 'string') {\n            return;\n        };\n\n        returnError = null;\n        xml = _xml;\n\n        if (isNamespace) {\n            nsmatrix = {xmlns: default_xmlns};\n\n            parse();\n\n            nsmatrix = false;\n\n        } else {\n            parse();\n        };\n\n        parseStop = false;\n        attr_res = true;\n        xml = '';\n\n        return returnError;\n    };\n\n    this.stop = function() {\n        parseStop = true;\n    };\n\n    // -----------------------------------------------------\n\n\n    var stringNodePosStart = 0;\n    var stringNodePosEnd = 0;\n    var attr_string = ''; // строка атрибутов\n    var attr_posstart = 0; //\n    var attr_res; // закешированный результат разбора атрибутов , null - разбор не проводился, object - хеш атрибутов, true - нет атрибутов, false - невалидный xml\n\n    /*\n        парсит атрибуты по требованию. Важно! - функция не генерирует исключения.\n\n        если была ошибка разбора возврашается false\n        если атрибутов нет и разбор удачен то возврашается true\n        если есть атрибуты то возврашается обьект(хеш)\n    */\n\n    function getAttrs() {\n        if (attr_res !== null) {\n            return attr_res;\n        };\n\n        var u\n        , xmlnsAlias\n        , nsAttrName\n        , attrList = isNamespace && hasSurmiseNS ? [] : null\n        , i = attr_posstart\n        , s = attr_string\n        , l = s.length\n        , hasNewMatrix\n        , newalias\n        , value\n        , alias\n        , name\n        , res = {}\n        , ok\n        , w\n        , j\n        ;\n\n\n        for(; i < l; i++) {\n            w = s.charCodeAt(i);\n\n            if (w === 32 || (w < 14 && w > 8) ) { // \\f\\n\\r\\t\\v\n                continue\n            };\n\n            if (w < 65 || w > 122 || (w > 90 && w < 97) ) { // ожидаем символ\n                if (w !== 95 && w !== 58) { // char 95\"_\" 58\":\"\n                    return attr_res = false; // error. invalid first char\n                };\n            };\n\n            for(j = i + 1; j < l; j++) { // проверяем все символы имени атрибута\n                w = s.charCodeAt(j);\n\n                if ( w > 96 && w < 123 || w > 64 && w < 91 || w > 47 && w < 59 || w === 45 || w === 95) {\n                    continue;\n                };\n\n                if (w !== 61) { // \"=\" == 61\n                    return attr_res = false; // error. invalid char \"=\"\n                };\n\n                break;\n            };\n\n            name = s.substring(i, j);\n            ok = true;\n\n            if (name === 'xmlns:xmlns') {\n                return attr_res = false; // error. invalid name\n            };\n\n            w = s.charCodeAt(j + 1);\n\n            if (w === 34) {  // '\"'\n                j = s.indexOf('\"', i = j + 2 );\n\n            } else {\n                if (w !== 39) { // \"'\"\n                    return attr_res = false; // error. invalid char\n                };\n\n                j = s.indexOf('\\'', i = j + 2 );\n            };\n\n            if (j === -1) {\n                return attr_res = false; // error. invalid char\n            };\n\n            if (j + 1 < l) {\n                w = s.charCodeAt(j + 1);\n\n                if (w > 32 || w < 9 || (w < 32 && w > 13)) {\n                    // error. invalid char\n                    return attr_res = false;\n                };\n            };\n\n\n            value = s.substring(i, j);\n            i = j + 1; // след. семвол уже проверен потому проверять нужно следуюший\n\n            if (!isNamespace) { //\n                res[name] = value;\n                continue;\n            };\n\n            if (hasSurmiseNS) {\n                // есть подозрение что в атрибутах присутствует xmlns\n                newalias = (name !== 'xmlns'\n                    ? name.charCodeAt(0) === 120 && name.substr(0, 6) === 'xmlns:' ? name.substr(6) : null\n                    : 'xmlns'\n                );\n\n                if (newalias !== null) {\n                    alias = useNS[unEntities(value)];\n                    if (is_onUnknownNS && !alias) {\n                        alias = onUnknownNS(value);\n                    };\n\n                    if (alias) {\n                        if (nsmatrix[newalias] !== alias) {\n                            if (!hasNewMatrix) {\n                                nsmatrix = cloneMatrixNS(nsmatrix);\n                                hasNewMatrix = true;\n                            };\n\n                            nsmatrix[newalias] = alias;\n                        };\n                    } else {\n                        if (nsmatrix[newalias]) {\n                            if (!hasNewMatrix) {\n                                nsmatrix = cloneMatrixNS(nsmatrix);\n                                hasNewMatrix = true;\n                            };\n\n                            nsmatrix[newalias] = false;\n                        };\n                    };\n\n                    res[name] = value;\n                    continue;\n                };\n\n                attrList.push(name, value);\n                continue;\n            };\n\n            w = name.indexOf(':');\n            if (w === -1) {\n                res[name] = value;\n                continue;\n            };\n\n            if (nsAttrName = nsmatrix[name.substring(0, w)]) {\n                nsAttrName = nsmatrix['xmlns'] === nsAttrName ? name.substr(w + 1) : nsAttrName + name.substr(w);\n                res[nsAttrName + name.substr(w)] = value;\n            };\n        };\n\n\n        if (!ok) {\n            return attr_res = true;  // атрибутов нет, ошибок тоже нет\n        };\n\n        if (hasSurmiseNS)  {\n            xmlnsAlias = nsmatrix['xmlns'];\n\n            for (i = 0, l = attrList.length; i < l; i++) {\n                name = attrList[i++];\n\n                w = name.indexOf(':');\n                if (w !== -1) {\n                    if (nsAttrName = nsmatrix[name.substring(0, w)]) {\n                        nsAttrName = xmlnsAlias === nsAttrName ? name.substr(w + 1) : nsAttrName + name.substr(w);\n                        res[nsAttrName] = attrList[i];\n                    };\n                    continue;\n                };\n                res[name] = attrList[i];\n            };\n        };\n\n        return attr_res = res;\n    };\n\n    function getStringNode() {\n        return xml.substring(stringNodePosStart, stringNodePosEnd + 1);\n    };\n\n\n    function parse() {\n        var u\n        , stacknsmatrix = []\n        , nodestack = []\n        , tagstart = false\n        , tagend = false\n        , j = 0, i = 0\n        , x, y, q, w\n        , stopIndex = 0\n        , _nsmatrix\n        , xmlns\n        , elem\n        , stop // используется при разборе \"namespace\" . если встретился неизвестное пространство то события не генерируются\n        ;\n\n        while(j !== -1) {\n            stop = stopIndex > 0;\n\n            if (xml.charCodeAt(j) === 60) { // \"<\"\n                i = j;\n            } else {\n                i = xml.indexOf('<', j);\n            };\n\n            if (i === -1) { // конец разбора\n                if (nodestack.length) {\n                    onError(returnError = 'end file');\n                    return;\n                };\n\n                return;\n            };\n\n            if (j !== i && !stop) {\n                onTextNode(xml.substring(j, i), unEntities);\n                if (parseStop) {\n                    return;\n                };\n            };\n\n            w = xml.charCodeAt(i+1);\n\n            if (w === 33) { // \"!\"\n                w = xml.charCodeAt(i+2);\n                if (w === 91 && xml.substr(i + 3, 6) === 'CDATA[') { // 91 == \"[\"\n                    j = xml.indexOf(']]>', i);\n                    if (j === -1) {\n                        onError(returnError = 'cdata');\n                        return;\n                    };\n\n                    if (!stop) {\n                        onCDATA(xml.substring(i + 9, j), false);\n                        if (parseStop) {\n                            return;\n                        };\n                    };\n\n                    j += 3;\n                    continue;\n                };\n\n\n                if (w === 45 && xml.charCodeAt(i + 3) === 45) { // 45 == \"-\"\n                    j = xml.indexOf('-->', i);\n                    if (j === -1) {\n                        onError(returnError = 'expected -->');\n                        return;\n                    };\n\n\n                    if (is_onComment && !stop) {\n                        onComment(xml.substring(i + 4, j), unEntities);\n                        if (parseStop) {\n                            return;\n                        };\n                    };\n\n                    j += 3;\n                    continue;\n                };\n\n                j = xml.indexOf('>', i + 1);\n                if (j === -1) {\n                    onError(returnError = 'expected \">\"');\n                    return;\n                };\n\n                if (is_onAttention && !stop) {\n                    onAttention(xml.substring(i, j + 1), unEntities);\n                    if (parseStop) {\n                        return;\n                    };\n                };\n\n                j += 1;\n                continue;\n            };\n\n            if (w === 63) { // \"?\"\n                j = xml.indexOf('?>', i);\n                if (j === -1) { // error\n                    onError(returnError = '...?>');\n                    return;\n                };\n\n                if (is_onQuestion) {\n                    onQuestion(xml.substring(i, j + 2));\n                    if (parseStop) {\n                        return;\n                    };\n                };\n\n                j += 2;\n                continue;\n            };\n\n            j = xml.indexOf('>', i + 1);\n\n            if (j == -1) { // error\n                onError(returnError = '...>');\n                return;\n            };\n\n            attr_res = true; // атрибутов нет\n\n            //if (xml.charCodeAt(i+1) === 47) { // </...\n            if (w === 47) { // </...\n                tagstart = false;\n                tagend = true;\n\n                // проверяем что должен быть закрыт тотже тег что и открывался\n                if (!nodestack.length) {\n                    onError(returnError = 'close tag, requires open tag');\n                    return;\n                };\n\n                x = elem = nodestack.pop();\n                q = i + 2 + x.length;\n\n                if (xml.substring(i + 2, q) !== x) {\n                    onError(returnError = 'close tag, not equal to the open tag');\n                    return;\n                };\n\n                // проверим что в закрываюшем теге нет лишнего\n                for(; q < j; q++) {\n                    w = xml.charCodeAt(q);\n\n                    if (w === 32 || (w > 8 && w < 14)) {  // \\f\\n\\r\\t\\v пробел\n                        continue;\n                    };\n\n                    onError(returnError = 'close tag');\n                    return;\n                };\n\n            } else {\n                if (xml.charCodeAt(j - 1) ===  47) { // .../>\n                    x = elem = xml.substring(i + 1, j - 1);\n\n                    tagstart = true;\n                    tagend = true;\n\n                } else {\n                    x = elem = xml.substring(i + 1, j);\n\n                    tagstart = true;\n                    tagend = false;\n                };\n\n                if (!(w > 96  && w < 123 || w > 64 && w < 91 || w === 95 || w === 58)) { // char 95\"_\" 58\":\"\n                    onError(returnError = 'first char nodeName');\n                    return;\n                };\n\n                for (q = 1, y = x.length; q < y; q++) {\n                    w = x.charCodeAt(q);\n\n                    if (w > 96 && w < 123 || w > 64 && w < 91 || w > 47 && w < 59 || w === 45 || w === 95) {\n                        continue;\n                    };\n\n                    if (w === 32 || (w < 14 && w > 8)) { // \\f\\n\\r\\t\\v пробел\n                        elem = x.substring(0, q)\n                        attr_res = null; // возможно есть атирибуты\n                        break;\n                    };\n\n                    onError(returnError = 'invalid nodeName');\n                    return;\n                };\n\n                if (!tagend) {\n                    nodestack.push(elem);\n                };\n            };\n\n\n            if (isNamespace) {\n                if (stop) {\n                    if (tagend) {\n                        if (!tagstart) {\n                            if (--stopIndex === 0) {\n                                nsmatrix = stacknsmatrix.pop();\n                            };\n                        };\n\n                    } else {\n                        stopIndex += 1;\n                    };\n\n                    j += 1;\n                    continue;\n                };\n\n                _nsmatrix = nsmatrix;\n                if (!tagend) {\n                    stacknsmatrix.push(nsmatrix);\n                };\n\n                if (tagstart) {\n                    if (attr_res !== true) {\n                        if (hasSurmiseNS = x.indexOf('xmlns', q) !== -1) { // есть подозрение на xmlns\n                            attr_posstart = q;\n                            attr_string = x;\n\n                            getAttrs();\n\n                            hasSurmiseNS = false;\n                        };\n                    };\n                };\n\n                w = elem.indexOf(':');\n                if (w !== -1) {\n                    xmlns = nsmatrix[elem.substring(0, w)];\n                    elem = elem.substr(w + 1);\n\n                } else {\n                    xmlns = nsmatrix.xmlns;\n                };\n\n\n                if (!xmlns) {\n                    if (tagend) {\n                        if (tagstart) {\n                            nsmatrix = _nsmatrix;\n                        } else {\n                            nsmatrix = stacknsmatrix.pop();\n                        };\n\n                    } else {\n                        stopIndex = 1; // первый элемент для которого не определено пространство имен\n                        attr_res = true;\n                    };\n\n                    j += 1;\n                    continue;\n                };\n\n                elem = xmlns + ':' + elem;\n            };\n\n            stringNodePosStart = i;\n            stringNodePosEnd = j;\n\n            if (tagstart) {\n                attr_posstart = q;\n                attr_string = x;\n\n                onStartNode(elem, getAttrs, unEntities, tagend, getStringNode);\n                if (parseStop) {\n                    return;\n                };\n\n                attr_res = true;\n            };\n\n            if (tagend) {\n                onEndNode(elem, unEntities, tagstart, getStringNode);\n                if (parseStop) {\n                    return;\n                };\n\n                if (isNamespace) {\n                    if (tagstart) {\n                        nsmatrix = _nsmatrix;\n                    } else {\n                        nsmatrix = stacknsmatrix.pop();\n                    };\n                };\n            };\n\n            j += 1;\n        };\n    };\n};\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Created by Florin on 3/10/2017.\n */\n\nimport EasySax from 'easysax';\nimport common from './common';\n\nvar options;\nvar currentElement;\n\nfunction validateOptions (userOptions) {\n    options = common.copyOptions(userOptions);\n    common.ensureFlagExists('ignoreDeclaration', options);\n    common.ensureFlagExists('ignoreAttributes', options);\n    common.ensureFlagExists('ignoreText', options);\n    common.ensureFlagExists('ignoreComment', options);\n    common.ensureFlagExists('ignoreCdata', options);\n    common.ensureFlagExists('compact', options);\n    common.ensureFlagExists('alwaysChildren', options);\n    common.ensureFlagExists('addParent', options);\n    common.ensureFlagExists('trim', options);\n    common.ensureFlagExists('nativeType', options);\n    common.ensureFlagExists('sanitize', options);\n    common.ensureKeyExists('declaration', options);\n    common.ensureKeyExists('attributes', options);\n    common.ensureKeyExists('text', options);\n    common.ensureKeyExists('comment', options);\n    common.ensureKeyExists('cdata', options);\n    common.ensureKeyExists('type', options);\n    common.ensureKeyExists('name', options);\n    common.ensureKeyExists('elements', options);\n    common.ensureKeyExists('parent', options);\n    return options;\n}\n\nfunction nativeType (value) {\n    var nValue = Number(value);\n    if (!isNaN(nValue)) {\n        return nValue;\n    }\n    var bValue = value.toLowerCase();\n    if (bValue === 'true') {\n        return true;\n    } else if (bValue === 'false') {\n        return false;\n    }\n    return value;\n}\n\nfunction addField (type, value, options) {\n    if (options.compact) {\n        currentElement[options[type + 'Key']] = (currentElement[options[type + 'Key']] ? currentElement[options[type + 'Key']] + '\\n' : '') + value;\n    } else {\n        if (!currentElement[options.elementsKey]) {\n            currentElement[options.elementsKey] = [];\n        }\n        var element = {};\n        element[options.typeKey] = type;\n        element[options[type + 'Key']] = value;\n        if (options.addParent) {\n            element[options.parentKey] = currentElement;\n        }\n        currentElement[options.elementsKey].push(element);\n    }\n}\n\nfunction onDeclaration (declaration) {\n    if (options.ignoreDeclaration) {\n        return;\n    }\n    if (currentElement[options.declarationKey]) {\n        return;\n    }\n    currentElement[options.declarationKey] = {};\n    while (declaration.body) {\n        var attribute = declaration.body.match(/([\\w:-]+)\\s*=\\s*\"([^\"]*)\"|'([^']*)'|(\\w+)\\s*/);\n        if (!attribute) {\n            break;\n        }\n        if (!currentElement[options.declarationKey][options.attributesKey]) {\n            currentElement[options.declarationKey][options.attributesKey] = {};\n        }\n        currentElement[options.declarationKey][options.attributesKey][attribute[1]] = attribute[2];\n        declaration.body = declaration.body.slice(attribute[0].length); // advance the string\n    }\n    if (options.addParent) {\n        currentElement[options.declarationKey][options.parentKey] = currentElement;\n    }\n}\n\nfunction onStartElement (name, attributesFn) {\n    var key, element;\n    if (typeof name === 'object') {\n        attributes = name.attributes;\n        name = name.name;\n    }\n    //console.log('attributes', attributes())\n    var attributes = attributesFn();\n    if (options.trim && attributes && typeof attributes === 'object') {\n        for (key in attributes) {\n            if (attributes.hasOwnProperty(key)) {\n                attributes[key] = attributes[key].trim();\n            }\n        }\n    }\n    if (options.compact) {\n        element = {};\n        if (!options.ignoreAttributes && attributes && typeof attributes === 'object' && Object.keys(attributes).length) {\n            element[options.attributesKey] = {};\n            for (key in attributes) {\n                if (attributes.hasOwnProperty(key)) {\n                    element[options.attributesKey][key] = attributes[key];\n                }\n            }\n        }\n        element[options.parentKey] = currentElement;\n        if (!(name in currentElement)) {\n            currentElement[name] = element;\n        } else {\n            if (!(currentElement[name] instanceof Array)) {\n                currentElement[name] = [currentElement[name]];\n            }\n            currentElement[name].push(element);\n        }\n        currentElement = element;\n    } else {\n        if (!currentElement[options.elementsKey]) {\n            currentElement[options.elementsKey] = [];\n        }\n        element = {};\n        element[options.typeKey] = 'element';\n        element[options.nameKey] = name;\n        if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\n            element[options.attributesKey] = attributes;\n        }\n        element[options.parentKey] = currentElement;\n        if (options.alwaysChildren) {\n            element[options.elementsKey] = [];\n        }\n        currentElement[options.elementsKey].push(element);\n        currentElement = element;\n    }\n}\n\nfunction onText (text) {\n    //console.log('currentElement:', currentElement);\n    if (options.ignoreText) {\n        return;\n    }\n    if (!text.trim()) {\n        return;\n    }\n    if (options.trim) {\n        text = text.trim();\n    }\n    if (options.nativeType) {\n        text = nativeType(text);\n    }\n    if (options.sanitize) {\n        text = common.sanitize(text);\n    }\n    addField('text', text, options);\n}\n\nfunction onComment (comment) {\n    if (options.ignoreComment) {\n        return;\n    }\n    if (options.trim) {\n        comment = comment.trim();\n    }\n    if (options.sanitize) {\n        comment = common.sanitize(comment);\n    }\n    addField('comment', comment, options);\n}\n\nfunction onEndElement (name) {\n    var parentElement = currentElement[options.parentKey];\n    if (!options.addParent) {\n        delete currentElement[options.parentKey];\n    }\n    currentElement = parentElement;\n}\n\nfunction onCdata (cdata) {\n    if (options.ignoreCdata) {\n        return;\n    }\n    if (options.trim) {\n        cdata = cdata.trim();\n    }\n    addField('cdata', cdata, options);\n}\n\nfunction onError (error) {\n    error.note = error; //console.error(error);\n}\n\nexport default function (xml, userOptions) {\n\n    var parser = new EasySax();\n    var result = {};\n    currentElement = result;\n\n    options = validateOptions(userOptions);\n\n    parser.on('startNode', onStartElement);\n    parser.on('endNode', onEndElement);\n    parser.on('textNode', onText);\n    parser.on('cdata', onCdata);\n    parser.on('comment', onComment);\n    parser.on('error', onError);\n    parser.parse(xml);\n\n    if (result[options.elementsKey]) {\n        var temp = result[options.elementsKey];\n        delete result[options.elementsKey];\n        result[options.elementsKey] = temp;\n        delete result.text;\n    }\n\n    currentElement = null;\n    return result;\n\n}","/**\n * Created by Florin on 3/10/2017.\n */\n\nimport xml2js from './xml2js';\nexport default xml2js;","import xml2js from './xml2js';\n\nself.addEventListener('message', onMessage);// eslint-disable-line no-restricted-globals\n\nconst WORKER_ID = 'kmlWorker';\n\nfunction onMessage(e) {\n    const { type, url, satName, filterDate } = e.data;\n\n    switch (type) {\n\n        case 'downloadAndParseKmls':\n            downloadAndParseKmls(url, satName, filterDate)\n                .then(({ err, shapes }) => {\n                    self.postMessage({// eslint-disable-line no-restricted-globals\n                        type,\n                        satName,\n                        url,\n                        shapes,\n                        err,\n                        workerId: WORKER_ID,\n                    });\n                });\n            break;\n\n        default:\n            self.postMessage({// eslint-disable-line no-restricted-globals\n                type,\n                satName,\n                url,\n                shapes: null,\n                err: 'Unknown action type: ' + type,\n                workerId: WORKER_ID,\n            });\n            break;\n    }\n}\n\nasync function downloadAndParseKmls(url, satName, filterDate) {\n    const { err, body } = await getFile(url);\n\n    if (err) {\n        return { err, shapes: null };\n    }\n\n    const shapes = parse(satName, body, filterDate) || body;\n\n    return { err, shapes };\n}\n\nfunction parse(satName, kmlStringContent, filterDate) {\n    let shapes = null;\n    try {\n        const jsKml = xml2js(kmlStringContent, { compact: true, spaces: 4 });\n        shapes = geoKml.parse(jsKml);\n\n        const isSentinel2 = satName.includes('s2');\n        const nowDate = new Date(filterDate);\n        shapes = shapes.filter(shape => {\n            const isInTheFuture = new Date(shape.timeSpan.end) >= nowDate;\n\n            if (isSentinel2) {\n                return (\n                    isInTheFuture &&\n                    shape.extendedData.Mode === 'NOBS' &&\n                    shape.extendedData.Timeliness === 'NOMINAL'\n                );\n            }\n\n            return isInTheFuture;\n        });\n    }\n    catch (e) {\n        console.error('KMLWorker - parse error', e);\n        shapes = null;\n    }\n\n    return shapes;\n}\n\nconst geoKml = {\n\n    parse(kmlObj) {\n        const doc = kmlObj.kml.Document;\n        const rootFolder = doc.Folder;\n        if (!rootFolder) {\n            return null;\n        }\n\n        const style = doc.Style;\n        const styleMap = doc.StyleMap;\n\n        const rawPlacemarks = [];\n        this.getPlacemarks(rootFolder, rawPlacemarks);\n        if (rawPlacemarks.length === 0) {\n            return null;\n        }\n\n        const styles = this.parseStyles(style);\n        this.parseStyleMap(styleMap, styles);\n\n        return this.parsePlacemarks(rawPlacemarks, styles);\n    },\n\n    parseStyles: function (stylesObj) {\n        return stylesObj.map(styleObj => {\n            const id = this.formatId(styleObj._attributes.id);\n\n            let color = 'ffffffff';\n            if (styleObj.LineStyle && styleObj.LineStyle.color && styleObj.LineStyle.color._text) {\n                color = styleObj.LineStyle.color._text;\n            }\n\n            return {\n                id: id,\n                color: color\n            };\n        });\n    },\n\n    parseStyleMap: function (styleMaps, styles) {\n        if (!styleMaps) {\n            return;\n        }\n\n        const styleIds = styles.map(style => style.id);\n\n        const styleMapId = this.formatId(styleMaps._attributes.id);\n        const normalPair = styleMaps.Pair.filter(pair => pair.key._text === 'normal')[0];\n        const id = this.formatId(normalPair.styleUrl._text);\n        const index = styleIds.indexOf(id);\n        const color = styles[index].color || 'ffffffff';\n\n        styles.push({\n            id: styleMapId,\n            color: color\n        });\n    },\n\n    parsePlacemarks: function (placemarks, styles) {\n        const shapes = [];\n\n        for (let i = 0; i < placemarks.length; i++) {\n            let placemark = placemarks[i];\n            let styleUrl = this.parseStyleUrl(placemark.styleUrl);\n\n            let shape = {\n                extendedData: this.parseExtendedData(placemark.ExtendedData),\n                timeSpan: this.parseTimeSpan(placemark.TimeSpan),\n                name: this.parseName(placemark.name),\n                coordinates: this.parseCoordinates(placemark),\n                color: this.matchStyle(styles, styleUrl)\n            };\n\n            shapes.push(shape);\n        }\n\n        return shapes;\n    },\n\n    matchStyle: function (styles, styleUrl) {\n        const style = styles.filter(style => style.id === styleUrl)[0];\n        if (style) {\n            return style.color;\n        }\n        return 'ffffffff';\n    },\n\n    parseCoordinates: function (placemark) {\n        let coordinates;\n\n        if (placemark.LinearRing && placemark.LinearRing.coordinates) {\n            coordinates = placemark.LinearRing.coordinates;\n        }\n        else if (placemark.Polygon && placemark.Polygon.outerBoundaryIs && placemark.Polygon.outerBoundaryIs.LinearRing &&\n            placemark.Polygon.outerBoundaryIs.LinearRing.coordinates) {\n            coordinates = placemark.Polygon.outerBoundaryIs.LinearRing.coordinates;\n        }\n        else {\n            console.error('parseCoordinates - unsuported shape', placemark);\n            return [];\n        }\n\n        const positions = coordinates._text.trim().replace(/\\s+/g, ' ').split(' ');\n\n        return positions.map(pos => {\n            const positionsPair = pos.split(',');\n            return {\n                latitude: +positionsPair[1],\n                longitude: +positionsPair[0]\n            };\n        });\n    },\n\n    parseExtendedData: function (extDataObj) {\n        const extendedData = {};\n        const datas = extDataObj.Data;\n\n        for (let i = 0; i < datas.length; i++) {\n            let data = datas[i];\n\n            let key = data._attributes.name;\n\n            let value = '';\n            if (data.value) {\n                value = data.value._text;\n            }\n\n            extendedData[key] = value;\n        }\n\n        return extendedData;\n    },\n\n    parseTimeSpan: function (timeSpanObj) {\n        const begin = timeSpanObj.begin._text;\n        const end = timeSpanObj.end._text;\n\n        return {\n            begin: begin,\n            end: end\n        };\n    },\n\n    parseName: function (nameObj) {\n        return nameObj._text;\n    },\n\n    parseStyleUrl: function (styleUrlObj) {\n        return this.formatId(styleUrlObj._text);\n    },\n\n    formatId(text) {\n        if (text[0] === '#') {\n            return text.slice(1);\n        }\n\n        return text;\n    },\n\n    getPlacemarks(folder, placemarks) {\n        if (Array.isArray(folder)) {\n            for (let i = 0, len = folder.length; i < len; i++) {\n                let subFolder = folder[i];\n                if (!subFolder) {\n                    continue;\n                }\n                if (subFolder.Placemark) {\n                    this.addPlacemarks(subFolder.Placemark, placemarks);\n                }\n                else {\n                    this.getPlacemarks(subFolder, placemarks);\n                }\n            }\n        }\n        else if (folder && folder.Folder) {\n            this.getPlacemarks(folder.Folder, placemarks);\n        }\n        else if (folder && folder.Placemark) {\n            this.addPlacemarks(folder.Placemark, placemarks);\n        }\n    },\n\n    addPlacemarks(placemarkFolder, placemarks) {\n        if (Array.isArray(placemarkFolder)) {\n            for (let i = 0, len = placemarkFolder.length; i < len; i++) {\n                if (placemarkFolder[i]) {\n                    placemarks.push(placemarkFolder[i]);\n                }\n            }\n        }\n        else if (placemarkFolder) {\n            placemarks.push(placemarkFolder);\n        }\n    },\n\n};\n\nasync function getFile(url) {\n    let response = null;\n    let body = null;\n\n    try {\n        response = await fetch(url);\n    }\n    catch(error) {\n        return { err: 'Unable to fetch file: ' + url, body };\n    }\n\n    // A response with the status code 0 may still contain the data.\n    // Usually happens in mobile environments when fetching from local disk.\n    if (!response.ok && response.status !== 0) {\n        return { err: 'Unable to fetch file: ' + url, body };\n    }\n\n    try {\n        body = await response.text();\n    }\n    catch(error) {\n        return { err: 'Unable to fetch file: ' + url, body };\n    }\n\n    return { err: null, body };\n}"],"sourceRoot":""}